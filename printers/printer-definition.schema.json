{
	"$schema": "https://json-schema.org/draft-07/schema",
	"$id": "https://os.ratrig.com/printer-definition.schema.json",
	"title": "Printer",
	"description": "A RatOS supported 3d printer",
	"type": "object",
	"properties": {
		"name": {
			"description": "The name of the printer",
			"type": "string"
		},
		"description": {
			"description": "A description of the printer",
			"type": "string"
		},
		"manufacturer": {
			"description": "The name of the manufacturer of this printer",
			"type": "string"
		},
		"documentationLink": {
			"description": "Link to the RatOS documentation for this printer",
			"type": "string"
		},
		"image": {
			"description": "Link to an image of the printer",
			"type": "string"
		},
		"driverCountRequired": {
			"description": "Amount of drivers required for this printer",
			"type": "number"
		},
		"sizes": {
			"description": "Size options for this printer",
			"type": "array",
			"items": {
				"type": "number"
			}
		},
		"template": {
			"description": "Printer.cfg template for this printer",
			"type": "string"
		},
		"rails": {
			"description": "Rails (steppers/drivers) needed for this printer, can be 'x', 'x1', 'y', 'y1', 'z', 'z1', 'z2', 'z3', 'extruder'.",
			"type": "array",
			"items": {
				"type": "string"
			}
		},
		"speedLimits": {
			"type": "object",
			"description": "Speed limits for this printer",
			"properties": {
				"basic": {
					"type": "object",
					"description": "Standard speed limits",
					"properties": {
						"velocity": {
							"type": "number"
						},
						"accel": {
							"type": "number"
						},
						"z_velocity": {
							"type": "number"
						},
						"z_accel": {
							"type": "number"
						},
						"square_corner_velocity": {
							"type": "number"
						}
					},
					"required": [
						"velocity",
						"accel",
						"z_velocity",
						"z_accel"
					]
				},
				"performance": {
					"type": "object",
					"description": "Performance speed limits",
					"properties": {
						"velocity": {
							"type": "number"
						},
						"accel": {
							"type": "number"
						},
						"z_velocity": {
							"type": "number"
						},
						"z_accel": {
							"type": "number"
						},
						"square_corner_velocity": {
							"type": "number"
						}
					},
					"required": [
						"velocity",
						"accel",
						"z_velocity",
						"z_accel"
					]
				}
			},
			"required": [
				"basic"
			]
		},
		"defaults": {
			"description": "Default hardware for this printer",
			"type": "object",
			"properties": {
				"extruder": {
					"description": "Default extruder for this printer. Should be the name of the config without the file extension.",
					"type": "string"
				},
				"board": {
					"description": "Default board for this printer. Should be the name of the board directory.",
					"type": "string"
				},
				"hotend": {
					"description": "Default hotend for this printer. Should be the name of the config without the file extension.",
					"type": "string"
				},
				"probe": {
					"description": "Default probe for this printer. Should be the name of the config without the file extension.",
					"type": "string"
				},
				"xEndstop": {
					"description": "Default x endstop for this printer",
					"type": "string",
					"enum": [
						"sensorless",
						"endstop"
					]
				},
				"yEndstop": {
					"description": "Default y endstop for this printer",
					"type": "string",
					"enum": [
						"sensorless",
						"endstop"
					]
				},
				"rails": {
					"description": "Default rails for this printer.",
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"axis": {
								"description": "Axis for this rail. Can be 'x', 'x1', 'y', 'y1', 'z', 'z1', 'z2', 'z3', 'extruder'",
								"type": "string"
							},
							"driver": {
								"description": "Default driver for this rail",
								"type": "string"
							},
							"voltage": {
								"description": "Default voltage for this rail. 24, 36, 48, 56 and 60 is supported. Default is 24.",
								"type": "number"
							},
							"stepper": {
								"description": "Default stepper for this rail",
								"type": "string"
							},
							"current": {
								"description": "Default current for this rail",
								"type": "number"
							},
							"performanceMode": {
								"description": "If performance mode is required for this rail. Will take precedence if true and performance mode is enabled.",
								"type": "boolean"
							},
							"microstepping": {
								"description": "Default microstepping for this rail. Default is 64.",
								"type": "number"
							}
						},
						"required": ["axis", "driver", "stepper", "current"]
					}
				}
			},
			"required": [
				"extruder",
				"board",
				"hotend",
				"xEndstop",
				"yEndstop",
				"rails"
			]
		}
	},
	"required": [
		"name",
		"description",
		"manufacturer",
		"documentationLink",
		"driverCountRequired",
		"image",
		"template",
		"defaults",
		"speedLimits"
	]
}